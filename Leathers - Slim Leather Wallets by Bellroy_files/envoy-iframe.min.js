!function(){function t(t){return"[object Array]"===Object.prototype.toString.call(t)}function n(n,e,o){if(t(n))for(var i=0,r=n.length;r>i;i++)e.call(o||window,n[i],i);else for(var a in n)n.hasOwnProperty(a)&&e.call(o||window,n[a],a)}function e(t){var e=[];return n(t,function(t,n){e.push(n)}),e}function o(t,e){var o=!1;return n(t,function(t){var n=t.constructor===RegExp?t:new RegExp("^"+t+"$");n.test(e)&&(o=!0)}),o}function i(i,r){var a=!0,c=t(i)?i:e(i);return n(c,function(t){o(r,t)||(a=!1)}),a}function r(t,n){setTimeout(function(){t.postMessage(n,"*")},0)}function a(t){var e=t&&t.data&&t.data.match&&t.data.match(/^envoy:(.*)/);if(e&&2===e.length){var o;try{o=JSON.parse(e[1])}catch(r){return}var a=o.list||o.values,v="set"===o.type?void 0:{};i(a,u)?(n(a,function(t,n){"set"===o.type&&d.set(n,t,o.options),"get"===o.type&&(v[t]=d.get(t))}),s(o.id,v)):c(o.id)}}function c(t){r(window.parent,"envoy:"+JSON.stringify({id:t,error:"1 or more cookies were not in the whitelist"}))}function s(t,n){r(window.parent,"envoy:"+JSON.stringify({id:t,val:n}))}var u=["_qubitTracker","_qubitTracker_s","qb_ss_status","_qubit",/^s?vid_for_/],d={set:function(t,n,e){var o;if(e=e||{},void 0!==e.duration){var i=new Date;i.setTime(i.getTime()+1e3*e.duration),o="; expires="+i.toGMTString()}else o="";var r=e.domain?"; domain="+e.domain:"",a=e.path?"; path="+e.path:"; path=/";return document.cookie=t+"="+encodeURI(n)+o+a+r,!!this.get(t,e)},get:function(t){var n=new RegExp("(?:^|;\\s+)"+t+"\\s*=\\s*([^;]*)"),e=document.cookie.match(n);return e&&2===e.length?e[1]:!1},remove:function(t,n){n=n||{},n.duration=-1,this.set(t,"",n)}};window.attachEvent?window.attachEvent("onmessage",a):window.addEventListener("message",a);var v={ready:Number(document.location.search.match(/envoy_id=(\d+)/)[1])};r(window.parent,"envoy:"+JSON.stringify(v))}();